# =============================================================================
# JOBFLOW AI — Variáveis de Ambiente
# 1. Copie: cp .env.example .env
# 2. Preencha no .env os campos marcados com [PREENCHER]
# 3. Nunca commite o .env — ele está no .gitignore
# =============================================================================


# ─── PostgreSQL — Docker local ────────────────────────────────────────────────
# [LOCAL] Usado pelo docker-compose.yml. Pode deixar como está.
POSTGRES_DB=jobflow
POSTGRES_USER=jobflow
POSTGRES_PASSWORD=jobflow
POSTGRES_HOST=localhost
POSTGRES_PORT=5432


# ─── PostgreSQL — Produção (Supabase) ────────────────────────────────────────
# [PREENCHER] → DEPLOY_GUIDE.md § 2
# Onde achar: Supabase → seu projeto → botão "Connect" (topo)
#             → aba "Connection string" → modo "Transaction" → copie a URL
# Atenção: se a senha tiver @, # ou ! → encode: @ = %40, # = %23, ! = %21

DATABASE_URL=postgresql://postgres.<project-ref>:<password>@aws-1-sa-east-1.pooler.supabase.com:6543/postgres?sslmode=require


# ─── Redis — Docker local ─────────────────────────────────────────────────────
# [LOCAL] Usado pelo docker-compose.yml e application.yml em dev.
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=jobflow



# ─── Redis — Produção (Upstash) ──────────────────────────────────────────────
# [PREENCHER] → DEPLOY_GUIDE.md § 3
# Onde achar: Upstash → seu banco → aba "Connect" → copie a URL rediss://
# Atenção: use aspas simples no .env se a senha tiver caracteres especiais
REDIS_URL=rediss://default:<upstash-password>@<upstash-host>.upstash.io:6379


# ─── pgAdmin — Docker local (opcional) ───────────────────────────────────────
# [LOCAL] Acesso em http://localhost:5050
PGADMIN_EMAIL=admin@jobflow.dev
PGADMIN_PASSWORD=admin


# ─── Clerk — Autenticação ─────────────────────────────────────────────────────
# [PREENCHER] → DEPLOY_GUIDE.md § 7
# Onde achar: Clerk Dashboard → seu app → "API Keys" → "Frontend API URL"
#   CLERK_JWKS_URI = <Frontend API URL>/.well-known/jwks.json
#   CLERK_ISSUER   = <Frontend API URL>  (sem barra final)
# Exemplo: https://factual-ox-15.clerk.accounts.dev

CLERK_JWKS_URI=https://<seu-clerk-domain>/.well-known/jwks.json
CLERK_ISSUER=https://<seu-clerk-domain>

# [PREENCHER] Clerk Dashboard → "API Keys" → "Publishable Key"
# Dev:  começa com pk_test_...
# Prod: começa com pk_live_...
VITE_CLERK_PUBLISHABLE_KEY=pk_test_...


# ─── OpenRouter — LLM ────────────────────────────────────────────────────────
# [PREENCHER] https://openrouter.ai → Account → API Keys → Create Key
OPENROUTER_API_KEY=sk-or-...
# [LOCAL] Não alterar
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=google/gemini-2.0-flash-exp:free
OPENROUTER_PRO_MODEL=anthropic/claude-3.5-sonnet


# ─── Cloudflare R2 — Storage ─────────────────────────────────────────────────
# [PREENCHER] Cloudflare → R2 → "Manage R2 API Tokens" → "Create API Token"
R2_ACCESS_KEY_ID=...
R2_SECRET_ACCESS_KEY=...
# [PREENCHER] Cloudflare → R2 → seu bucket → nome exato do bucket
R2_BUCKET_NAME=jobflow-files
# [PREENCHER] Cloudflare → R2 → seu bucket → "Settings" → "S3 API" → Endpoint
R2_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com
# [PREENCHER] Cloudflare → R2 → seu bucket → "Settings" → "Public access" → URL
R2_PUBLIC_URL=https://pub-<id>.r2.dev


# ─── SendGrid — E-mail ───────────────────────────────────────────────────────
# [PREENCHER] https://app.sendgrid.com → Settings → API Keys → Create API Key
#             Permissão mínima: "Mail Send"
SENDGRID_API_KEY=SG....
# [PREENCHER] E-mail verificado no SendGrid → Settings → Sender Authentication
MAIL_FROM=noreply@yourdomain.com


# ─── Telegram — Notificações (opcional) ──────────────────────────────────────
# [PREENCHER] No Telegram → fale com @BotFather → /newbot → copie o token
# Deixe vazio para desabilitar notificações via Telegram
TELEGRAM_BOT_TOKEN=


# ─── Frontend ─────────────────────────────────────────────────────────────────
# [LOCAL] URL da API em dev local. Em produção configure no painel do Vercel.
VITE_API_URL=http://localhost:8080
