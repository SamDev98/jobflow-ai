spring:
  application:
    name: jobflow-api

  datasource:
    url: jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB:jobflow}
    username: ${POSTGRES_USER:jobflow}
    password: ${POSTGRES_PASSWORD:jobflow}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:jobflow}

  mail:
    host: smtp.sendgrid.net
    port: 587
    username: apikey
    password: ${SENDGRID_API_KEY:}
    from: ${MAIL_FROM:noreply@jobflow.dev}
    properties:
      mail.smtp.auth: true
      mail.smtp.starttls.enable: true

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

server:
  port: 8080
  error:
    include-message: always

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operationsSorter: method

# Clerk JWT
clerk:
  jwks-uri: ${CLERK_JWKS_URI:https://example.clerk.accounts.dev/.well-known/jwks.json}
  issuer: ${CLERK_ISSUER:https://example.clerk.accounts.dev}

# OpenRouter
openrouter:
  api-key: ${OPENROUTER_API_KEY:}
  base-url: ${OPENROUTER_BASE_URL:https://openrouter.ai/api/v1}
  default-model: ${OPENROUTER_DEFAULT_MODEL:google/gemini-2.0-flash-exp:free}
  pro-model: ${OPENROUTER_PRO_MODEL:anthropic/claude-3.5-sonnet}

# Cloudflare R2
r2:
  access-key-id: ${R2_ACCESS_KEY_ID:}
  secret-access-key: ${R2_SECRET_ACCESS_KEY:}
  bucket-name: ${R2_BUCKET_NAME:jobflow-files}
  endpoint: ${R2_ENDPOINT:}
  public-url: ${R2_PUBLIC_URL:}

# Telegram
telegram:
  bot-token: ${TELEGRAM_BOT_TOKEN:}

logging:
  level:
    com.jobflow: DEBUG
    org.springframework.security: INFO
