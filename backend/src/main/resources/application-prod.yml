spring:
  datasource:
    # Use JDBC-native format to avoid URI parsing issues with user:pass@host
    url: jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT:5432}/${POSTGRES_DB:postgres}?sslmode=require
    username: ${POSTGRES_USER}
    password: ${POSTGRES_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 5
      connection-timeout: 30000

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false

  flyway:
    url: jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT:5432}/${POSTGRES_DB:postgres}?sslmode=require
    user: ${POSTGRES_USER}
    password: ${POSTGRES_PASSWORD}
    enabled: true

  data:
    redis:
      # Upstash TLS URL: rediss://:password@host:port
      url: ${REDIS_URL}
      ssl:
        enabled: true

jobflow:
  mail:
    from: ${MAIL_FROM}

logging:
  level:
    '[com.jobflow]': INFO
    '[org.springframework.security]': WARN
    '[org.hibernate]': WARN
